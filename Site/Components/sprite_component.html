<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SpriteComponent - Chai Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../application.html"><strong aria-hidden="true">2.</strong> Application</a></li><li class="chapter-item expanded "><a href="../scene.html"><strong aria-hidden="true">3.</strong> Scene</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../scene_runtime.html"><strong aria-hidden="true">3.1.</strong> Runtime</a></li></ol></li><li class="chapter-item expanded "><a href="../ecs.html"><strong aria-hidden="true">4.</strong> ECS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ECS/entity.html"><strong aria-hidden="true">4.1.</strong> Entity</a></li><li class="chapter-item expanded "><a href="../ECS/component.html"><strong aria-hidden="true">4.2.</strong> Component</a></li><li class="chapter-item expanded "><a href="../ECS/system.html"><strong aria-hidden="true">4.3.</strong> System</a></li><li class="chapter-item expanded "><a href="../ECS/iterators.html"><strong aria-hidden="true">4.4.</strong> Iterators</a></li></ol></li><li class="chapter-item expanded "><a href="../chai_components.html"><strong aria-hidden="true">5.</strong> Chai Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Components/visual_transform.html"><strong aria-hidden="true">5.1.</strong> VisualTransform</a></li><li class="chapter-item expanded "><a href="../Components/sprite_component.html" class="active"><strong aria-hidden="true">5.2.</strong> SpriteComponent</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Chai Data Types</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../DataTypes/vector2f.html"><strong aria-hidden="true">6.1.</strong> Vector2f</a></li><li class="chapter-item expanded "><a href="../DataTypes/rgba8.html"><strong aria-hidden="true">6.2.</strong> RGBA8</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Chai Resources</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Resources/texture.html"><strong aria-hidden="true">7.1.</strong> Texture</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Chai Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="spritecomponent"><a class="header" href="#spritecomponent">SpriteComponent</a></h1>
<pre><code class="language-go">type SpriteComponent struct {
	Texture Texture2D
}
</code></pre>
<p>This Component is referred to as a Mark Component, for it only marks the Entity for functionality and does not contriubte to the Rendering of the Sprite itself.</p>
<p><em>What do we mean?</em></p>
<pre><code class="language-go">_entity := _this_scene.NewEntityId()
_vt := chai.VisualTransform{
    Position: chai.NewVector2f(0.0, 0.0),
    Z: 0.0,
    Dimensions: chai.NewVector2f(100.0, 100.0),
    Rotation: 0.0,
    Scale: 1.0,
    UV1: chai.Vector2fZero,
    UV2: chai.Vector2fOne,
}
_sprite_component := chai.NewSpriteComponent(_this_scene, _entity, _vt, ..., false)

_this_scene.AddComponents(_entity, chai.ToComponent(_vt), chai.ToComponent(_sprite_component))
</code></pre>
<p><em>This code will not run</em></p>
<p>The previous script creates an Entity with a VisualTransform and then using the Entity and the VisualTransform, it creates a SpriteComponent with the method "NewSpriteComponent".
Using this we tell Chai that we want a Sprite to be drawn with relation to this Entity and VisualTransform, Using this we can manipulate the VisualTransform of the Entity and it will Update dynamically without the need of Adding any System by default.</p>
<p><strong>The method NewSpriteComponent() takes a pointer to the current Scene, the Entity to be paired to, the Visual Transform of that Entity, A pointer to a Texture type (...), and a boolean to see if it's this Entity is to be drawn Static or Not.</strong></p>
<p><em>Static means that in no way during the lifetime of the App you would change the values of the VisualTransform. It's useful for drawing Levels and Backgrounds.</em></p>
<p><strong>Now what do we need a SpriteComponent for if the drawing of the Sprite is being done without the use of the System part of Chai?</strong></p>
<p>It's quite useful when Iterating over Entities being drawn. Using it as a Mark Component, the Entity will be marked as having a Sprite attached to it and as such you can Iterate over it.</p>
<pre><code class="language-go">for (i:=0;i&lt;10;i++) {
    _entity := _this_scene.NewEntityId()
    _vt := chai.VisualTransform{
        Position: chai.NewVector2f(0.0, 0.0),
        Z: 0.0,
        Dimensions: chai.NewVector2f(100.0, 100.0),
        Rotation: 0.0,
        Scale: 1.0,
        UV1: chai.Vector2fZero,
        UV2: chai.Vector2fOne,
    }
    _sprite_component := chai.NewSpriteComponent(_this_scene, _entity, _vt, ..., false)
    
    _this_scene.AddComponents(_entity, chai.ToComponent(_vt), chai.ToComponent(_sprite_component))
}

chai.Iterate1[chai.SpriteComponent](func(i ecs.Id, sc *chai.SpriteComponent) {
    // Do Something With the Entity
})
</code></pre>
<p><em>This code will not run</em></p>
<h2 id="drawing-a-sprite"><a class="header" href="#drawing-a-sprite">Drawing a Sprite</a></h2>
<p>To draw a Sprite, You need a Sprite(Image). Loading an Image is Chai is very easy, Using the method "LoadPng" you can load an Image and return the Texture containing its Width, Height.</p>
<p><strong>How can I load a Texture?</strong> refer to <a href="../Resources/texture.html">Texture Resource</a></p>
<p>After learning about Textures in Chai, Let's draw a Sprite:</p>
<pre><code class="language-go">func SceneStartSystem(_this_scene *chai.Scene) {
    _entity := _this_scene.NewEntityId()
    _vt := chai.VisualTransform{
        Position: chai.NewVector2f(0.0, 0.0),
        Z: 0.0,
        Dimensions: chai.NewVector2f(100.0, 100.0),
        Rotation: 0.0,
        Scale: 1.0,
        Tint, chai.WHITE,
        UV1: chai.Vector2fZero,
        UV2: chai.Vector2fOne,
    }
    _texture := chai.LoadPng("chai_logo.png")
    _sprite_component := chai.NewSpriteComponent(_this_scene, _entity, _vt, &amp;_texture, false)
    
    _this_scene.AddComponents(_entity, chai.ToComponent(_vt), chai.ToComponent(_sprite_component))
}

var app chai.App = chai.App{
	Title:  "Docs",
	Width:  480,
	Height: 480,
	OnStart: func() {
		_test_scene := chai.NewScene()
		_test_scene.NewStartSystem(SceneStartSystem)

		// Transition into this scene
		chai.ChangeScene(&amp;_test_scene)
	},
}

func main(){
	chai.Run(&amp;app)
}
</code></pre>
<p><img src="../../resources/load_png.png" alt="Draw Sprite Output" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Components/visual_transform.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../DataTypes/vector2f.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Components/visual_transform.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../DataTypes/vector2f.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
